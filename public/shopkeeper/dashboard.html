<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SpotMyShop — Shopkeeper Dashboard</title>
  <link rel="stylesheet" href="dashboard.css"/>
  <!-- Remix Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css">
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <div class="brand">
      <span class="grad-dot" aria-hidden="true"></span>
      <span class="brand-text">SpotMyShop</span>
    </div>
    <nav class="top-actions" aria-label="Top actions">
      <button class="icon-btn" id="btnAddStory" title="Add Story" aria-label="Add Story">
        <i class="ri-add-circle-line"></i>
      </button>
      <button class="icon-btn" id="btnOpenNotifications" title="Notifications" aria-label="Notifications">
        <i class="ri-notification-3-line"></i>
      </button>
      <button class="icon-btn" id="btnMore" title="More Options" aria-label="More Options">
        <i class="ri-more-2-fill"></i>
      </button>
    </nav>
  </header>

  <main class="page">
    <!-- Profile row -->
    <section class="profile-row">
      <div class="avatar-wrap">
        <div class="story-ring">
          <img id="shopAvatar" class="avatar" src="https://placehold.co/120x120/png" alt="Shop Logo"/>
        </div>
        <button class="mini-btn" id="btnChangeAvatar">Change</button>
      </div>

      <div class="profile-main">
        <div class="name-line">
          <h1 id="shopName">Your Shop</h1>
          <span class="badge" id="shopStatus">Closed</span>
        </div>

        <div class="ids-line">
          <span id="shopId">ShopID: —</span>
          <span class="dot"></span>
          <span id="phoneBadge" class="phone-hidden">Phone hidden</span>
        </div>

        <ul class="stats">
          <li><span id="statPosts" class="num">0</span><span>posts</span></li>
          <li><span id="statFollowers" class="num">0</span><span>followers</span></li>
          <li><span id="statFollowing" class="num">0</span><span>following</span></li>
        </ul>

        <div class="action-row">
          <button class="pill-btn" id="btnEditProfile">Edit profile</button>
          <button class="pill-btn" id="btnAddProduct">Add product</button>
          <label class="switch">
            <input id="toggleOpen" type="checkbox" aria-label="Toggle shop open/closed">
            <span class="slider"></span>
          </label>
          <span class="switch-label">Open</span>
        </div>

        <div class="bio">
          <p id="shopBio">Add a short description for your shop.</p>
          <div class="location">
            <i class="ri-map-pin-2-fill" aria-hidden="true"></i>
            <span id="shopAddress">Add your address</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Highlights (categories) -->
    <section class="highlights">
      <div class="hl-scroll" id="highlightsRow">
        <!-- Highlights injected here -->
        <button class="hl add" id="btnNewHighlight">
          <div class="hl-circle"><i class="ri-add-line"></i></div>
          <span>New</span>
        </button>
      </div>
    </section>

    <!-- Tabs -->
    <nav class="tabs" aria-label="Content Tabs">
      <button class="tab active" data-tab="photos"><i class="ri-grid-fill"></i> Photos</button>
      <button class="tab" data-tab="videos"><i class="ri-video-line"></i> Videos</button>
      <button class="tab" data-tab="chat"><i class="ri-chat-3-line"></i> Chat</button>
    </nav>

    <!-- Tab: Photos -->
    <section id="tab-photos" class="tab-panel active" aria-label="Photos Tab">
      <div id="photosGrid" class="grid"></div>
    </section>

    <!-- Tab: Videos -->
    <section id="tab-videos" class="tab-panel" aria-label="Videos Tab">
      <div id="videosGrid" class="grid"></div>
    </section>

    <!-- Tab: Chat -->
    <section id="tab-chat" class="tab-panel" aria-label="Chat Tab">
      <div class="chat">
        <div id="chatList" class="chat-list"></div>
        <form id="chatForm" class="chat-input">
          <input id="chatMessage" type="text" placeholder="Message customers…" required aria-label="Chat message">
          <button type="submit" class="send" aria-label="Send message"><i class="ri-send-plane-2-line"></i></button>
        </form>
      </div>
    </section>
  </main>

  <!-- Add/Edit product modal -->
  <dialog id="productModal" class="modal">
    <form id="productForm" method="dialog" class="modal-card">
      <header>
        <h3 id="modalTitle">Add product</h3>
        <button type="button" class="icon-btn close" id="closeProductModal" aria-label="Close product modal">
          <i class="ri-close-line"></i>
        </button>
      </header>

      <div class="form-row">
        <label for="prodType">Type</label>
        <select id="prodType">
          <option value="photo">Photo</option>
          <option value="video">Video</option>
        </select>
      </div>

      <div class="form-row">
        <label for="prodTitle">Title</label>
        <input id="prodTitle" type="text" placeholder="e.g., Bridal Lehenga" required>
      </div>

      <div class="form-row two">
        <div>
          <label for="prodPrice">Price (₹)</label>
          <input id="prodPrice" type="number" min="0" step="1" placeholder="14999">
        </div>
        <div>
          <label for="prodStock">Stock</label>
          <input id="prodStock" type="number" min="0" step="1" placeholder="5">
        </div>
      </div>

      <div class="form-row">
        <label for="prodCategory">Category</label>
        <input id="prodCategory" type="text" placeholder="Lehenga / Gown / Saree">
      </div>

      <div class="form-row">
        <label for="prodFile">Media</label>
        <input id="prodFile" type="file" accept="image/*,video/*">
        <small>or paste a URL</small>
        <input id="prodUrl" type="url" placeholder="https://…">
      </div>

      <footer>
        <button type="submit" class="pill-btn primary" id="saveProduct">Save</button>
      </footer>

      <input type="hidden" id="editingId" value="">
    </form>
  </dialog>

  <!-- Edit profile modal -->
  <dialog id="profileModal" class="modal">
    <form id="profileForm" method="dialog" class="modal-card">
      <header>
        <h3>Edit profile</h3>
        <button type="button" class="icon-btn close" id="closeProfileModal" aria-label="Close profile modal">
          <i class="ri-close-line"></i>
        </button>
      </header>

      <div class="form-row">
        <label for="inpShopName">Shop name</label>
        <input id="inpShopName" type="text" required>
      </div>

      <div class="form-row">
        <label for="inpBio">Bio</label>
        <textarea id="inpBio" rows="2" placeholder="Short description…"></textarea>
      </div>

      <div class="form-row">
        <label for="inpAddress">Address</label>
        <input id="inpAddress" type="text" placeholder="Street, City">
      </div>

      <div class="form-row">
        <label for="inpPhone">Phone</label>
        <input id="inpPhone" type="tel" placeholder="+91…">
      </div>

      <footer>
        <button type="submit" class="pill-btn primary">Save</button>
      </footer>
    </form>
  </dialog>

  <!-- Add highlight modal -->
  <dialog id="highlightModal" class="modal">
    <form id="highlightForm" method="dialog" class="modal-card">
      <header>
        <h3>New highlight</h3>
        <button type="button" class="icon-btn close" id="closeHighlightModal" aria-label="Close highlight modal">
          <i class="ri-close-line"></i>
        </button>
      </header>

      <div class="form-row">
        <label for="hlLabel">Label</label>
        <input id="hlLabel" type="text" placeholder="Lehenga / Saree / Gowns" required>
      </div>

      <footer>
        <button type="submit" class="pill-btn primary">Add</button>
      </footer>
    </form>
  </dialog>

  <!-- Story upload (simple) -->
  <input id="storyFile" type="file" accept="image/*,video/*" class="hidden"/>

  <!-- Load dashboard logic -->
  <script src="dashboard.js"></script>
</body>
</html>
